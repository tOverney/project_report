\documentclass{article}
\usepackage{graphicx}

\begin{document}

\title{Benchmarking Fermi Microarchitecture}
\author{Paolo Ienne, Andrea Miele\and Ewaida Moshen, Cl\'{e}ment Humbert, Tristan Overney}
\date{\today}
\maketitle

\section{Goals}
	The goals of this research is to expose the Fermi microarchitecture details as implemented 
    in Nvidia Fermi cards such as: pipeline length, instructions latency, scheduling patterns.

\section{Methods}
	To achieve the aforementioned goals, a serie of specially crafted CUDA kernels
	were used. These usually contain large batches of dependent instructions that were 
	timed with the assistance of the \texttt{clock64()} function offered by the CUDA API.

	The benchmark programs have been ran on a machine equipped with an: 
	Nvidia GeForce GTX 580.

\section{Integers multiplication}
	This section contains the results obtained through the previously described
	methods using large batches of integer multiplications.

	\subsection{Benchmark running times against number of threads}
	\includegraphics[width=\linewidth]{"graphics/running_times"}
	\pagebreak

	\subsection{Benchmark running times divided by number of multplications}
	The same experiment has been ran with floating point multiplications. 
	\begin{figure}[h]
		\centering
		\vspace{-20pt}
    			\includegraphics[width=.5\linewidth]{"graphics/latency_estimate"}
		\vspace{-20pt}
		\caption{TODO}
	\end{figure}
	\pagebreak

\section{Mixing floating points and integer multiplication}
	\subsection{Description of the experiment}
	Informations have been found which were implying that the throughput for integer multiplication was half the floating point multiplication throughput because only one of the two 16 cores group of an SM was provisionned with integer multiplier.
	The following result are an attempt to verify those informations.
	\subsection{Benchmark running times, 1 floating points for 1 integer multiplication}
	If indeed only 1 out of 2 cores group can run integer multiplication then adding the same amount of multiplication but in floating point should not increase the total time spent executing our multiplications as the floating point multiplication can be run on the other core group (the one that does not possess integer multiplication).
	
	One million multiplication of each kind has been ran on 1 to 1024 threads to see if the results were comparable to the graph were there was only integer multiplication.
	\begin{figure}[h]
		\centering
		\vspace{-20pt}
    			\includegraphics[width=.5\linewidth]{"graphics/running_times_ratio11"}
		\vspace{-20pt}
		\caption{Integer/Floating point multiplication ration: 1}
	\end{figure}
	\pagebreak

	\subsection{Benchmark running times, 2 floating points for 1 integer multiplication}
	\includegraphics[width=\linewidth]{"graphics/running_times_ratio21"}
	\pagebreak

	\subsection{Benchmark running times, 3 floating points for 1 integer multiplication}
	\includegraphics[width=\linewidth]{"graphics/running_times_ratio31"}
	\pagebreak

\section{Interpretation}

\section{Additionnal graphics}
	\subsection{Integer multiplication: 1024 threads starting times}
	\includegraphics[width=\linewidth]{"graphics/starting_times_ratio31"}
	\pagebreak


\end{document}
